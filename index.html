<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"/>
  <title>Nebula Meteor Adventure (9:16)</title>
  <style>
    :root{ --ui: rgba(20,22,28,.62); --ui2: rgba(255,255,255,.08); --txt:#e9ecff; }
    html,body{margin:0;height:100%;overflow:hidden;background:#000;font-family:system-ui,-apple-system,Segoe UI,Roboto}
    /* ‚úÖ Nebula jadi BACKGROUND (tidak ikut muter / tidak ikut zoom 3D) */
    #bg{
      position:fixed; inset:0; z-index:0;
      background:
        radial-gradient(1200px 800px at 40% 35%, rgba(90,220,255,.25), transparent 60%),
        radial-gradient(900px 700px at 70% 45%, rgba(255,90,220,.18), transparent 65%),
        radial-gradient(1400px 900px at 55% 65%, rgba(80,255,170,.12), transparent 60%),
        radial-gradient(900px 1200px at 35% 75%, rgba(150,120,255,.16), transparent 60%),
        linear-gradient(180deg, #05060b, #000);
      filter: saturate(1.25) contrast(1.08);
    }
    /* bintang halus */
    #stars{
      position:fixed; inset:0; z-index:1; opacity:.55; pointer-events:none;
      background-image:
        radial-gradient(#fff 1px, transparent 1px),
        radial-gradient(#fff 1px, transparent 1px),
        radial-gradient(#fff 1px, transparent 1px);
      background-size: 120px 120px, 170px 170px, 260px 260px;
      background-position: 0 0, 40px 70px, 120px 30px;
      filter: blur(.2px);
      mix-blend-mode: screen;
    }

    canvas{position:fixed; inset:0; width:100vw; height:100vh; z-index:2; touch-action:none;}

    /* UI */
    #ui{
      position:fixed; left:12px; top:12px; z-index:3;
      width:min(92vw, 420px);
      color:var(--txt);
      background:var(--ui);
      border:1px solid rgba(255,255,255,.10);
      border-radius:16px;
      padding:14px;
      backdrop-filter: blur(10px);
      box-shadow: 0 18px 50px rgba(0,0,0,.45);
    }
    #ui h1{margin:0 0 6px 0;font-size:16px;letter-spacing:.2px}
    #ui .sub{opacity:.85;font-size:12.5px;line-height:1.35}
    .row{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
    button{
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.06);
      color:var(--txt);
      padding:10px 12px;
      border-radius:12px;
      font-weight:650;
      font-size:13px;
      cursor:pointer;
    }
    button:active{transform:scale(.99)}
    button.on{background:rgba(120,180,255,.18);border-color:rgba(120,180,255,.35)}
    #hud{
      margin-top:10px;
      font-size:12px;
      opacity:.9;
      display:flex; gap:10px; flex-wrap:wrap;
    }
    .pill{padding:6px 10px;border:1px solid rgba(255,255,255,.12);border-radius:999px;background:rgba(0,0,0,.22)}
    #tip{
      position:fixed; left:0; right:0; bottom:16px; z-index:3;
      text-align:center; color:rgba(255,255,255,.78); font-size:12px;
      pointer-events:none;
      text-shadow:0 2px 10px rgba(0,0,0,.6);
    }

    /* romantis overlay */
    #love{
      position:fixed; left:0; right:0; top:50%; transform:translateY(-50%);
      z-index:4; display:none; justify-content:center;
      pointer-events:none;
    }
    #love .box{
      max-width:min(82vw,520px);
      background:rgba(10,10,14,.55);
      border:1px solid rgba(255,255,255,.15);
      padding:10px 14px;
      border-radius:14px;
      color:#fff;
      font-weight:750;
      text-align:center;
      backdrop-filter: blur(10px);
      box-shadow:0 18px 60px rgba(0,0,0,.55);
    }
    #love .small{opacity:.75;font-size:12px;font-weight:650;margin-top:2px}

    /* fullscreen safe */
    #fsHint{
      position:fixed; left:0; right:0; bottom:52px; z-index:3;
      text-align:center; color:rgba(255,255,255,.55); font-size:11px;
      pointer-events:none;
    }
  </style>
</head>

<body>
  <div id="bg"></div>
  <div id="stars"></div>
  <canvas id="c"></canvas>

  <div id="ui">
    <h1>üåå Nebula Meteor Adventure (3D, 9:16)</h1>
    <div class="sub">
      ‚Ä¢ Drag = putar dunia ‚Ä¢ Pinch = zoom ‚Ä¢ Tap meteor = fokus + follow<br>
      ‚Ä¢ Render hemat: <b>20 meteor terdekat</b> ‚Ä¢ Foto bentuk <b>9:16</b> (tidak bulat)
    </div>

    <div class="row">
      <button id="play">‚ñ∂ Play</button>
      <button id="pause">‚è∏ Pause</button>
      <button id="tour">üß≠ Auto Tour: OFF</button>
      <button id="shuffle">üé≤ Shuffle</button>
      <button id="fs">‚õ∂ Fullscreen</button>
    </div>
    <div class="row">
      <button id="rec">üé• Record</button>
      <button id="stop" disabled>‚èπ Stop</button>
    </div>

    <div id="hud">
      <div class="pill" id="stat">Loaded: 0 | Render: 0/0</div>
      <div class="pill" id="beat">Beat: 0.00</div>
      <div class="pill" id="follow">Follow: -</div>
    </div>
  </div>

  <div id="love"><div class="box">
    <div id="loveText">Aku sayang kamu. ‚ù§Ô∏è</div>
    <div class="small" id="loveSub">(foto 1.jpg)</div>
  </div></div>

  <div id="fsHint">Tip: double tap untuk fullscreen ‚Ä¢ drag untuk geser ‚Ä¢ pinch untuk zoom</div>
  <div id="tip"></div>

<script>
(() => {
  // ====== CONFIG ======
  const FOLDER = "fotos/";
  const MAX_NEAR = 20;          // render hemat
  const TOTAL_METEORS = 1400;   // jumlah "batu" di dunia (tapi yang dirender hanya 20 terdekat)
  const ORBIT_MIN = 280;        // jarak meteor dari pusat (jangan terlalu dekat)
  const ORBIT_MAX = 1200;       // jangan terlalu jauh
  const CARD_W = 90;            // ukuran meteor (akan skala dengan jarak)
  const CARD_H = Math.round(CARD_W * 16/9);
  const TRAIL_LEN = 12;         // panjang trail
  const TRAIL_ALPHA = 0.18;

  // teks romantis acak
  const LOVE_LINES = [
    "Aku peduli sama dirimu. ‚ù§Ô∏è",
    "Dimata ku, kamu anak kecil yang jadi penyemangat ku. üè°‚ú®",
    "Aku pasti dibilang buaya karna bikin gini, tapi buaya mana yang mau capek mikir untuk bikin giniüòí",
    "Jangan tinggalin aku.",
    "Aku bakal terus berusaha nyenengin kamu. üòäüíó",
    "Aku bangga sama kamu. üå∑",
  ];

  // ====== CANVAS SETUP ======
  const canvas = document.getElementById("c");
  const ctx = canvas.getContext("2d", { alpha:true });
  let W=0,H=0, DPR=1;
  function resize(){
    DPR = Math.min(2, window.devicePixelRatio || 1);
    W = Math.floor(innerWidth * DPR);
    H = Math.floor(innerHeight * DPR);
    canvas.width = W; canvas.height = H;
  }
  addEventListener("resize", resize, {passive:true});
  resize();

  // ====== AUDIO (beat sync ringan) ======
  const audio = new Audio("music.mp3");
  audio.loop = true;
  audio.preload = "auto";

  let beat = 0;
  const AC = window.AudioContext || window.webkitAudioContext;
  let actx=null, analyser=null, srcNode=null, freq=null;

  async function initAudio(){
    if(actx) return;
    actx = new AC();
    analyser = actx.createAnalyser();
    analyser.fftSize = 512;
    freq = new Uint8Array(analyser.frequencyBinCount);
    srcNode = actx.createMediaElementSource(audio);
    srcNode.connect(analyser);
    analyser.connect(actx.destination);
  }

  function updateBeat(){
    if(!analyser) { beat = 0; return; }
    analyser.getByteFrequencyData(freq);
    // ambil bass range (0..~12)
    let sum=0, n=0;
    for(let i=0;i<14;i++){ sum += freq[i]; n++; }
    const avg = (sum/(n*255));
    beat = Math.max(0, Math.min(1, avg*1.8));
    document.getElementById("beat").textContent = "Beat: " + beat.toFixed(2);
  }

  // ====== WORLD / CAMERA (3D fake) ======
  // Kita bikin koordinat 3D, lalu proyeksi ke 2D.
  // Nebula nggak ikut muter karena background CSS.
  const cam = {
    x: 0, y: 0, z: -900,     // posisi kamera
    yaw: 0, pitch: 0,        // rotasi dunia
    zoom: 1,                 // zoom kamera
    target: null,            // meteor yang di-follow
    follow: 0                // smoothing
  };

  // kontrol drag/pinch
  let dragging=false, lastX=0,lastY=0;
  let pinchDist=0;

  function dist(a,b){ const dx=a.clientX-b.clientX, dy=a.clientY-b.clientY; return Math.hypot(dx,dy); }

  canvas.addEventListener("pointerdown", (e)=>{
    dragging=true; lastX=e.clientX; lastY=e.clientY;
    canvas.setPointerCapture(e.pointerId);
  });
  canvas.addEventListener("pointermove", (e)=>{
    if(!dragging) return;
    const dx = (e.clientX-lastX);
    const dy = (e.clientY-lastY);
    lastX=e.clientX; lastY=e.clientY;
    // putar dunia
    cam.yaw   += dx * 0.004;
    cam.pitch += dy * 0.004;
    cam.pitch = Math.max(-1.2, Math.min(1.2, cam.pitch));
  });
  canvas.addEventListener("pointerup", ()=> dragging=false);
  canvas.addEventListener("pointercancel", ()=> dragging=false);

  // pinch zoom (touch)
  canvas.addEventListener("touchstart", (e)=>{
    if(e.touches.length===2){
      pinchDist = dist(e.touches[0], e.touches[1]);
    }
  }, {passive:true});
  canvas.addEventListener("touchmove", (e)=>{
    if(e.touches.length===2){
      const d = dist(e.touches[0], e.touches[1]);
      const delta = (d - pinchDist);
      pinchDist = d;
      cam.zoom *= (1 + delta*0.002);
      cam.zoom = Math.max(0.35, Math.min(5.5, cam.zoom));
    }
  }, {passive:true});

  // double tap fullscreen
  let lastTap=0;
  canvas.addEventListener("click", (e)=>{
    const now=Date.now();
    if(now-lastTap<280){
      toggleFullscreen();
    }
    lastTap=now;
  });

  // ====== METEORS ======
  // meteor punya posisi 3D (x,y,z) mengorbit pusat (0,0,0)
  // foto TIDAK ikut rotasi -> selalu "menghadap kamera" (billboard)
  const meteors = [];
  function rnd(a,b){ return a + Math.random()*(b-a); }

  // sebaran seperti sabuk meteor acak (bukan ring rapih)
  for(let i=0;i<TOTAL_METEORS;i++){
    const r = rnd(ORBIT_MIN, ORBIT_MAX);
    // sudut orbit & elevasi acak
    const ang = rnd(0, Math.PI*2);
    const elev = rnd(-0.7, 0.7);
    const y = Math.sin(elev)*rnd(40, 220);
    const x = Math.cos(ang)*r;
    const z = Math.sin(ang)*r;
    meteors.push({
      x, y, z,
      baseR: r,
      ang,
      speed: rnd(0.0012, 0.0035),
      tilt: rnd(-0.25, 0.25), // sedikit miring kartu, tapi kecil
      img: null,
      imgIndex: 1,
      loaded: false,
      trail: new Array(TRAIL_LEN).fill(null).map(()=>({sx:0,sy:0,alive:false}))
    });
  }

  // load foto 1..N sampai gagal (biar kamu gak pusing jumlah)
  const loadedImgs = [];
  let maxPhoto=0;

  async function loadPhotos(){
    loadedImgs.length=0;
    maxPhoto=0;
    // coba sampai 80 (aman). kalau kamu 43/55, stop otomatis.
    for(let i=1;i<=80;i++){
      const url = `${FOLDER}${i}.jpg`;
      const ok = await new Promise((res)=>{
        const im = new Image();
        im.onload = ()=>res(im);
        im.onerror = ()=>res(null);
        im.src = url + `?v=${Date.now()}`; // cache-buster biar gak nyangkut
      });
      if(!ok) break;
      loadedImgs.push(ok);
      maxPhoto=i;
      document.getElementById("stat").textContent = `Loaded: ${maxPhoto} | Render: 0/${TOTAL_METEORS}`;
    }
  }

  function assignImages(){
    if(loadedImgs.length===0) return;
    for(let i=0;i<meteors.length;i++){
      const m = meteors[i];
      m.imgIndex = 1 + (Math.floor(Math.random()*loadedImgs.length));
      m.img = loadedImgs[m.imgIndex-1];
      m.loaded = true;
    }
  }

  // ====== PROJECTION ======
  function rotY(x,z,a){ const c=Math.cos(a), s=Math.sin(a); return {x:x*c - z*s, z:x*s + z*c}; }
  function rotX(y,z,a){ const c=Math.cos(a), s=Math.sin(a); return {y:y*c - z*s, z:y*s + z*c}; }

  function project(px,py,pz){
    // rotate world by yaw/pitch
    let r1 = rotY(px,pz, cam.yaw);
    let x = r1.x, z = r1.z;
    let r2 = rotX(py,z, cam.pitch);
    let y = r2.y; z = r2.z;

    // camera
    z = z - cam.z; // cam.z negatif, jadi z makin besar = makin jauh
    const fov = 820 / cam.zoom;
    const scale = fov / (fov + z);
    const sx = (W*0.5) + x*scale;
    const sy = (H*0.5) + y*scale;
    return {sx,sy,scale,z};
  }

  // ====== PICKING (tap meteor) ======
  function pick(clientX, clientY, nearList){
    const x = clientX * DPR;
    const y = clientY * DPR;
    // cek dari yang paling depan
    for(const item of nearList){
      const {m, p, w, h} = item;
      const left = p.sx - w/2;
      const top  = p.sy - h/2;
      if(x>=left && x<=left+w && y>=top && y<=top+h){
        return m;
      }
    }
    return null;
  }

  // Tap ‚Üí fokus + follow + teks romantis
  canvas.addEventListener("pointerup", (e)=>{
    // kalau habis drag jauh, skip pick
    // (biar gak kepencet pas geser)
    // sederhana: kalau dragging baru saja, abaikan
  });

  canvas.addEventListener("pointerdown", (e)=>{
    // tap pick setelah short delay, kalau bukan drag
    const startX=e.clientX, startY=e.clientY, t0=Date.now();
    function up(ev){
      canvas.removeEventListener("pointerup", up);
      const dt=Date.now()-t0;
      const dx=Math.abs(ev.clientX-startX), dy=Math.abs(ev.clientY-startY);
      if(dt<280 && dx<8 && dy<8){
        if(lastNearCache){
          const m = pick(ev.clientX, ev.clientY, lastNearCache);
          if(m){
            focusMeteor(m);
          }
        }
      }
    }
    canvas.addEventListener("pointerup", up, {once:true});
  });

  function showLove(m){
    const love = document.getElementById("love");
    const text = document.getElementById("loveText");
    const sub  = document.getElementById("loveSub");
    text.textContent = LOVE_LINES[Math.floor(Math.random()*LOVE_LINES.length)];
    sub.textContent = `(foto ${m.imgIndex}.jpg)`;
    love.style.display="flex";
    clearTimeout(showLove._t);
    showLove._t = setTimeout(()=> love.style.display="none", 1400);
  }

  function focusMeteor(m){
    cam.target = m;
    cam.follow = 0;
    document.getElementById("follow").textContent = "Follow: " + m.imgIndex + ".jpg";
    showLove(m);
    // ‚Äúmendekat sampai full layar‚Äù
    // target zoom ke sekitar 2.6 (halus)
    targetZoom = 2.6;
  }

  // ====== AUTO TOUR ======
  let tour=false;
  let targetZoom=1.0;
  function randomTarget(){
    const m = meteors[Math.floor(Math.random()*meteors.length)];
    focusMeteor(m);
  }

  // ====== RECORD WebM ======
  let rec=null, chunks=[];
  const recBtn=document.getElementById("rec");
  const stopBtn=document.getElementById("stop");
  recBtn.onclick = async ()=>{
    try{
      const stream = canvas.captureStream(30);
      rec = new MediaRecorder(stream, {mimeType:"video/webm;codecs=vp9"});
      chunks=[];
      rec.ondataavailable = e => { if(e.data.size) chunks.push(e.data); };
      rec.onstop = ()=>{
        const blob = new Blob(chunks, {type:"video/webm"});
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = "nebula-meteor.webm";
        a.click();
        setTimeout(()=>URL.revokeObjectURL(url), 8000);
      };
      rec.start();
      recBtn.classList.add("on");
      stopBtn.disabled=false;
    }catch(err){
      alert("Record gagal (browser tidak support). Coba Chrome terbaru.");
    }
  };
  stopBtn.onclick = ()=>{
    if(rec && rec.state!=="inactive"){ rec.stop(); }
    recBtn.classList.remove("on");
    stopBtn.disabled=true;
  };

  // ====== UI BUTTONS ======
  document.getElementById("play").onclick = async ()=>{
    try{
      await initAudio();
      if(actx.state==="suspended") await actx.resume();
      await audio.play();
    }catch(e){
      alert("Play butuh klik & izin browser. Coba klik lagi.");
    }
  };
  document.getElementById("pause").onclick = ()=> audio.pause();

  document.getElementById("shuffle").onclick = ()=>{
    if(loadedImgs.length===0) return;
    for(const m of meteors){
      m.imgIndex = 1 + (Math.floor(Math.random()*loadedImgs.length));
      m.img = loadedImgs[m.imgIndex-1];
    }
    cam.target=null;
    document.getElementById("follow").textContent = "Follow: -";
  };

  document.getElementById("tour").onclick = ()=>{
    tour=!tour;
    document.getElementById("tour").textContent = "üß≠ Auto Tour: " + (tour?"ON":"OFF");
    document.getElementById("tour").classList.toggle("on", tour);
    if(tour) randomTarget();
  };

  function toggleFullscreen(){
    const el = document.documentElement;
    if(!document.fullscreenElement){
      el.requestFullscreen?.();
    } else {
      document.exitFullscreen?.();
    }
  }
  document.getElementById("fs").onclick = toggleFullscreen;

  // ====== RENDER LOOP ======
  let lastNearCache=null;

  function drawCard(m, p, w, h){
    if(!m.img) return;

    // trail (glow fake) pakai posisi sebelumnya
    for(const t of m.trail){
      if(!t.alive) continue;
      ctx.globalAlpha = TRAIL_ALPHA;
      ctx.fillStyle = "rgba(180,220,255,0.35)";
      ctx.beginPath();
      ctx.ellipse(t.sx, t.sy, Math.max(2,w*0.08), Math.max(2,h*0.06), 0, 0, Math.PI*2);
      ctx.fill();
    }

    // kartu foto 9:16 (tidak muter), hanya sedikit tilt kecil
    ctx.save();
    ctx.translate(p.sx, p.sy);
    ctx.rotate(m.tilt); // kecil banget biar ‚Äúmeteor-ish‚Äù tapi gak muter gila
    ctx.globalAlpha = 1;

    // glow
    ctx.shadowColor = "rgba(120,200,255,0.35)";
    ctx.shadowBlur = 18;

    // rounded rect + image cover
    const r = Math.min(16*DPR, w*0.18);
    const x = -w/2, y = -h/2;

    // clip rounded
    ctx.beginPath();
    roundRect(ctx, x, y, w, h, r);
    ctx.clip();

    // draw image cover
    // cover: crop center
    const img = m.img;
    const iw = img.naturalWidth || img.width;
    const ih = img.naturalHeight || img.height;
    const targetRatio = (w/h);
    const imgRatio = (iw/ih);
    let sx=0, sy=0, sw=iw, sh=ih;
    if(imgRatio > targetRatio){
      // crop sides
      sw = ih*targetRatio;
      sx = (iw - sw)/2;
    }else{
      // crop top-bottom
      sh = iw/targetRatio;
      sy = (ih - sh)/2;
    }
    ctx.drawImage(img, sx, sy, sw, sh, x, y, w, h);

    // vignette
    ctx.globalAlpha = 0.18;
    ctx.fillStyle="#000";
    ctx.fillRect(x,y,w,h);
    ctx.globalAlpha = 1;

    // border
    ctx.shadowBlur = 0;
    ctx.strokeStyle = "rgba(255,255,255,0.18)";
    ctx.lineWidth = 2*DPR;
    ctx.beginPath();
    roundRect(ctx, x, y, w, h, r);
    ctx.stroke();

    ctx.restore();
  }

  function roundRect(c, x, y, w, h, r){
    c.moveTo(x+r, y);
    c.arcTo(x+w, y, x+w, y+h, r);
    c.arcTo(x+w, y+h, x, y+h, r);
    c.arcTo(x, y+h, x, y, r);
    c.arcTo(x, y, x+w, y, r);
    c.closePath();
  }

  function updateTrails(list){
    for(const item of list){
      const m=item.m, p=item.p;
      // shift trail
      for(let i=m.trail.length-1;i>0;i--){
        m.trail[i].sx = m.trail[i-1].sx;
        m.trail[i].sy = m.trail[i-1].sy;
        m.trail[i].alive = m.trail[i-1].alive;
      }
      m.trail[0].sx = p.sx;
      m.trail[0].sy = p.sy;
      m.trail[0].alive = true;
    }
  }

  function tick(){
    requestAnimationFrame(tick);

    updateBeat();

    // orbit update
    for(const m of meteors){
      m.ang += m.speed * (0.7 + beat*1.4);
      // orbit shape acak (bukan ring rapih)
      const r = m.baseR + Math.sin(m.ang*1.7)*16;
      m.x = Math.cos(m.ang)*r;
      m.z = Math.sin(m.ang)*r;
    }

    // follow camera (tanpa muterin foto)
    if(cam.target){
      cam.follow = Math.min(1, cam.follow + 0.02);
      // target world rotation supaya meteor target ke tengah
      // cari proyeksi target jika yaw/pitch digeser pelan
      // simple approach: tarik yaw ke arah target angle
      const tx = cam.target.x, tz = cam.target.z;
      const desiredYaw = Math.atan2(tz, tx) - Math.PI/2; // biar ke depan
      // lerp yaw
      cam.yaw += (desiredYaw - cam.yaw) * 0.015 * cam.follow;

      // pitch biar tidak ekstrem
      cam.pitch += (0 - cam.pitch) * 0.01;
    }

    // smooth zoom
    cam.zoom += (targetZoom - cam.zoom) * 0.04;

    // clear
    ctx.clearRect(0,0,W,H);

    // pilih 20 meteor terdekat terhadap kamera (pakai z hasil project)
    const projected = [];
    for(const m of meteors){
      if(!m.loaded) continue;
      const p = project(m.x, m.y, m.z);
      projected.push({m,p});
    }
    // sort by z (dekat dulu = z kecil)
    projected.sort((a,b)=> a.p.z - b.p.z);

    const near = projected.slice(0, MAX_NEAR);

    // update trails hanya untuk yang dirender (hemat)
    updateTrails(near);

    // gambar dari yang jauh ke dekat biar layering bagus
    const drawList = [...near].sort((a,b)=> b.p.z - a.p.z);

    // render
    for(const it of drawList){
      const p = it.p;
      // ukuran berubah dengan scale
      // jangan sampai segede layar banget
      const s = Math.max(0.18, Math.min(2.6, p.scale*1.2));
      const w = CARD_W*DPR*s;
      const h = CARD_H*DPR*s;

      // culling: kalau offscreen jauh, skip
      if(p.sx < -w || p.sx > W+w || p.sy < -h || p.sy > H+h) continue;

      drawCard(it.m, p, w, h);
      it.w = w; it.h = h;
    }

    // status
    document.getElementById("stat").textContent =
      `Loaded: ${maxPhoto} | Render: ${drawList.length}/${TOTAL_METEORS}`;

    lastNearCache = drawList.map(x=>({m:x.m,p:x.p,w:x.w,h:x.h}));
  }

  // ====== BOOT ======
  (async ()=>{
    await loadPhotos();
    assignImages();
    targetZoom = 1.0;
    tick();
    document.getElementById("tip").textContent = maxPhoto
      ? `Foto siap: ${maxPhoto} ‚Ä¢ Tap meteor untuk fokus`
      : `Foto belum kebaca. Pastikan: fotos/1.jpg dst.`;
  })();

})();
</script>
</body>
</html>
